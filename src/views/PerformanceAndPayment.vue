<script setup lang="ts">
import { useResearchStore } from '../stores/research';
import { storeToRefs } from 'pinia';
// import { ref } from 'vue';

const { currentStepChild, currentStep } = storeToRefs(useResearchStore());
// const classOfAnswer = ref<string>('')

// const text = () => {
//     const rest = +campusesAround.value.length - +dataOfResearch?.value?.num_estab_answer1;
//     if (rest === 0 ) {
//         classOfAnswer.value = 'good-answer'
//         return {
//             title: 'Respuesta correcta',
//             description: `Creiste que habían ${dataOfResearch?.value?.num_estab_answer1} centros educativos a 2km de tu ubicación, y efectivamente hay ${campusesAround.value.length}`,
//         }
//     }

//     if (Math.sign(rest) === -1) {
//         classOfAnswer.value = 'bad-answer'
//         return {
//             title: 'Te pasaste',
//             description: `Creiste que habían ${dataOfResearch?.value?.num_estab_answer1} centros educativos a 2km de tu ubicación, pero en realidad hay ${campusesAround.value.length}.`,
//         }
//     }

//     if(rest < 3) {
//         return {
//             title: 'Estuviste muy cerca',
//             description: `Creiste que habían ${dataOfResearch?.value?.num_estab_answer1} centros educativos a 2km de tu ubicación, pero en realidad hay ${campusesAround.value.length}.`,
//         }
//     }

//     return {
//         title: 'Estuviste muy lejos',
//         description: `Creiste que habían ${dataOfResearch?.value?.num_estab_answer1} centros educativos a 2km de tu ubicación, pero en realidad hay ${campusesAround.value.length}.`,
//     }
    
// }

const closeIframe = () => {
    if (currentStepChild.value === 1 && currentStep.value === 2) {

        window.top!.postMessage(
            {
                context: 'explorer',
                action: 'close',
                value: true,
            }, '*');
        }

    return '';
}
</script>
<template>
    <h1 class="mt-3"> Información importante</h1>
    <template v-if="currentStepChild === 0">
        <p class="mt-8">
            Los establecimientos educacionales se dividen en distintos niveles. Te invitamos a revisarlos:
        </p>

        <h4 class="ml-2 mt-8">
            Nivel según costo
        </h4>
    </template>

    <template v-if="currentStepChild === 1">
        <p class="mt-8">
            Los establecimientos educacionales se dividen en distintos niveles. Te invitamos a revisarlos:
        </p>

        <h4 class="ml-2 mt-8">
            Nivel según desempeño
        </h4>
    </template>

    <section v-if="currentStepChild === 1" class="section-detail pl-16 mt-5">

        {{ closeIframe() }}
        <div>
            <svg data-v-a087a6a6="" width="24" height="24" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23Z"
                        fill="white" fill-opacity="0.6"></path>
                    <path
                        d="M8.51045 7.9896L8.51045 16.8125C8.51045 16.9583 8.46427 17.0774 8.37191 17.1698C8.27955 17.2622 8.16045 17.3083 8.01462 17.3083C7.86878 17.3083 7.74969 17.2622 7.65732 17.1698C7.56496 17.0774 7.51878 16.9583 7.51878 16.8125L7.51878 7.97502L6.32295 9.17085C6.23545 9.25835 6.12607 9.3021 5.99482 9.3021C5.86357 9.3021 5.74448 9.25349 5.63753 9.15627C5.54031 9.05904 5.4917 8.94238 5.4917 8.80627C5.4917 8.67015 5.54031 8.55349 5.63753 8.45627L7.66462 6.42918C7.72295 6.38057 7.77885 6.34411 7.83232 6.31981C7.8858 6.2955 7.94656 6.28335 8.01462 6.28335C8.08267 6.28335 8.14343 6.2955 8.19691 6.31981C8.25038 6.34411 8.30628 6.38057 8.36462 6.42918L10.3917 8.45627C10.4986 8.56321 10.5497 8.67988 10.5448 8.80627C10.54 8.93266 10.4889 9.04932 10.3917 9.15627C10.2945 9.25349 10.1754 9.3021 10.0344 9.3021C9.89344 9.3021 9.7792 9.25835 9.6917 9.17085L8.51045 7.9896Z"
                        fill="white"></path>
                    <path
                        d="M16.5104 7.9896L16.5104 16.8125C16.5104 16.9583 16.4643 17.0774 16.3719 17.1698C16.2795 17.2622 16.1604 17.3083 16.0146 17.3083C15.8688 17.3083 15.7497 17.2622 15.6573 17.1698C15.565 17.0774 15.5188 16.9583 15.5188 16.8125L15.5188 7.97502L14.3229 9.17085C14.2354 9.25835 14.1261 9.3021 13.9948 9.3021C13.8636 9.3021 13.7445 9.25349 13.6375 9.15627C13.5403 9.05904 13.4917 8.94238 13.4917 8.80627C13.4917 8.67015 13.5403 8.55349 13.6375 8.45627L15.6646 6.42918C15.7229 6.38057 15.7789 6.34411 15.8323 6.31981C15.8858 6.2955 15.9466 6.28335 16.0146 6.28335C16.0827 6.28335 16.1434 6.2955 16.1969 6.31981C16.2504 6.34411 16.3063 6.38057 16.3646 6.42918L18.3917 8.45627C18.4986 8.56321 18.5497 8.67988 18.5448 8.80627C18.54 8.93266 18.4889 9.04932 18.3917 9.15627C18.2945 9.25349 18.1754 9.3021 18.0344 9.3021C17.8934 9.3021 17.7792 9.25835 17.6917 9.17085L16.5104 7.9896Z"
                        fill="white"></path>
                </g>
            </svg>


            <p>Satisfactorio</p>
        </div>
        <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 23.16C18.1635 23.16 23.16 18.1635 23.16 12C23.16 5.8365 18.1635 0.84 12 0.84C5.8365 0.84 0.839996 5.8365 0.839996 12C0.839996 18.1635 5.8365 23.16 12 23.16Z"
                    fill="#1595E9" />
                <path
                    d="M11.52 16.56V15.36C9.96001 15.12 9.24001 13.92 9.24001 13.08L10.8 12.72C10.8 13.32 11.28 13.92 12.24 13.92C12.84 13.92 13.2 13.68 13.2 13.2C13.2 12.84 12.96 12.72 12.48 12.6L11.52 12.36C10.32 12.12 9.48001 11.28 9.48001 10.32C9.48001 9.12 10.44 8.28 11.52 8.04V6.84H12.84V8.04C14.04 8.28 14.64 9.12 14.76 9.96L13.2 10.44C13.08 10.08 12.96 9.48 12.12 9.48C11.52 9.48 11.16 9.84 11.16 10.2C11.16 10.44 11.4 10.68 11.76 10.8L12.72 11.04C14.16 11.4 14.76 12.24 14.76 13.2C14.76 14.16 14.04 15.12 12.72 15.36V16.56H11.52Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.64 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.36 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.64 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.36 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
            </svg>

            <p>Aceptable</p>
        </div>
        <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M11.76 23.16C17.9235 23.16 22.92 18.1635 22.92 12C22.92 5.8365 17.9235 0.84 11.76 0.84C5.59651 0.84 0.600006 5.8365 0.600006 12C0.600006 18.1635 5.59651 23.16 11.76 23.16Z"
                    fill="#4139B4" />
                <path
                    d="M7.92 16.8V15.6C6.36 15.36 5.64 14.16 5.64 13.32L7.2 12.96C7.2 13.56 7.68 14.16 8.64 14.16C9.24 14.16 9.6 13.92 9.6 13.44C9.6 13.08 9.36 12.96 8.88 12.84L7.92 12.6C6.72 12.36 5.88 11.52 5.88 10.56C5.88 9.36 6.84 8.52 7.92 8.28V7.08H9.24V8.28C10.44 8.52 11.04 9.36 11.16 10.2L9.6 10.56C9.48 10.2 9.36 9.72 8.52 9.72C7.92 9.72 7.56 10.08 7.56 10.44C7.56 10.68 7.8 10.92 8.16 11.04L9.12 11.28C10.56 11.64 11.16 12.48 11.16 13.44C11.16 14.4 10.44 15.36 9.12 15.6V16.8H7.92Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M14.52 16.8V15.6C12.96 15.36 12.24 14.16 12.24 13.32L13.8 12.96C13.8 13.56 14.28 14.16 15.24 14.16C15.84 14.16 16.2 13.92 16.2 13.44C16.2 13.08 15.96 12.96 15.48 12.84L14.4 12.6C13.2 12.36 12.36 11.52 12.36 10.56C12.36 9.36 13.32 8.52 14.4 8.28V7.08H15.72V8.28C16.92 8.52 17.52 9.36 17.64 10.2L16.08 10.56C15.96 10.2 15.84 9.6 15 9.6C14.4 9.6 14.04 9.96 14.04 10.32C14.04 10.56 14.28 10.8 14.64 10.92L15.6 11.16C17.04 11.52 17.64 12.36 17.64 13.32C17.64 14.28 16.92 15.24 15.6 15.48V16.68H14.52V16.8Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.76 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.24 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
            </svg>
            <p>Elemental</p>
        </div>
        <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M11.76 23.16C17.9235 23.16 22.92 18.1635 22.92 12C22.92 5.8365 17.9235 0.84 11.76 0.84C5.59651 0.84 0.600006 5.8365 0.600006 12C0.600006 18.1635 5.59651 23.16 11.76 23.16Z"
                    fill="#4139B4" />
                <path
                    d="M7.92 16.8V15.6C6.36 15.36 5.64 14.16 5.64 13.32L7.2 12.96C7.2 13.56 7.68 14.16 8.64 14.16C9.24 14.16 9.6 13.92 9.6 13.44C9.6 13.08 9.36 12.96 8.88 12.84L7.92 12.6C6.72 12.36 5.88 11.52 5.88 10.56C5.88 9.36 6.84 8.52 7.92 8.28V7.08H9.24V8.28C10.44 8.52 11.04 9.36 11.16 10.2L9.6 10.56C9.48 10.2 9.36 9.72 8.52 9.72C7.92 9.72 7.56 10.08 7.56 10.44C7.56 10.68 7.8 10.92 8.16 11.04L9.12 11.28C10.56 11.64 11.16 12.48 11.16 13.44C11.16 14.4 10.44 15.36 9.12 15.6V16.8H7.92Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M14.52 16.8V15.6C12.96 15.36 12.24 14.16 12.24 13.32L13.8 12.96C13.8 13.56 14.28 14.16 15.24 14.16C15.84 14.16 16.2 13.92 16.2 13.44C16.2 13.08 15.96 12.96 15.48 12.84L14.4 12.6C13.2 12.36 12.36 11.52 12.36 10.56C12.36 9.36 13.32 8.52 14.4 8.28V7.08H15.72V8.28C16.92 8.52 17.52 9.36 17.64 10.2L16.08 10.56C15.96 10.2 15.84 9.6 15 9.6C14.4 9.6 14.04 9.96 14.04 10.32C14.04 10.56 14.28 10.8 14.64 10.92L15.6 11.16C17.04 11.52 17.64 12.36 17.64 13.32C17.64 14.28 16.92 15.24 15.6 15.48V16.68H14.52V16.8Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.76 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.24 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
            </svg>
            <p>Elemental</p>
        </div>
    </section>

    <section v-if="currentStepChild === 0" class="section-detail pl-16 mt-5">
        <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 23.16C18.1635 23.16 23.16 18.1635 23.16 12C23.16 5.8365 18.1635 0.839996 12 0.839996C5.8365 0.839996 0.839996 5.8365 0.839996 12C0.839996 18.1635 5.8365 23.16 12 23.16Z"
                    fill="#11D3D9" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.64 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.36 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
                <path
                    d="M12.6 11.04L13.08 10.32C13.08 10.32 13.08 10.32 13.08 10.44L14.64 10.08C14.52 9.6 14.4 9.24 14.04 8.88L16.08 6L15.48 5.64L13.44 8.4C13.2 8.28 12.96 8.16 12.6 8.04V6.84H11.4V8.04C10.2 8.28 9.36 9.12 9.36 10.32C9.36 11.16 9.96 11.88 10.8 12.24L10.44 12.72L9 13.08C9 13.44 9.12 13.8 9.36 14.16L7.2 17.52L7.8 18L9.96 14.88C10.32 15.12 10.8 15.36 11.4 15.48V16.68H12.72V15.48C14.04 15.24 14.76 14.28 14.76 13.32C14.76 12.24 14.16 11.4 12.6 11.04ZM11.64 10.8C11.28 10.68 11.04 10.44 11.04 10.2C11.04 9.84 11.4 9.48 12 9.48C12.36 9.48 12.48 9.6 12.72 9.6L11.88 10.8H11.64ZM12.12 14.04C11.52 14.04 11.16 13.8 10.92 13.56L11.64 12.6L12.36 12.72C12.84 12.84 13.08 13.08 13.08 13.32C12.96 13.68 12.6 14.04 12.12 14.04Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
            </svg>

            <p>Gratuito</p>
        </div>
        <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 23.16C18.1635 23.16 23.16 18.1635 23.16 12C23.16 5.8365 18.1635 0.84 12 0.84C5.8365 0.84 0.839996 5.8365 0.839996 12C0.839996 18.1635 5.8365 23.16 12 23.16Z"
                    fill="#1595E9" />
                <path
                    d="M11.52 16.56V15.36C9.96001 15.12 9.24001 13.92 9.24001 13.08L10.8 12.72C10.8 13.32 11.28 13.92 12.24 13.92C12.84 13.92 13.2 13.68 13.2 13.2C13.2 12.84 12.96 12.72 12.48 12.6L11.52 12.36C10.32 12.12 9.48001 11.28 9.48001 10.32C9.48001 9.12 10.44 8.28 11.52 8.04V6.84H12.84V8.04C14.04 8.28 14.64 9.12 14.76 9.96L13.2 10.44C13.08 10.08 12.96 9.48 12.12 9.48C11.52 9.48 11.16 9.84 11.16 10.2C11.16 10.44 11.4 10.68 11.76 10.8L12.72 11.04C14.16 11.4 14.76 12.24 14.76 13.2C14.76 14.16 14.04 15.12 12.72 15.36V16.56H11.52Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.64 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.36 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.64 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.36 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
            </svg>

            <p>$1 a $1.5 millones</p>
        </div>
        <div>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M11.76 23.16C17.9235 23.16 22.92 18.1635 22.92 12C22.92 5.8365 17.9235 0.84 11.76 0.84C5.59651 0.84 0.600006 5.8365 0.600006 12C0.600006 18.1635 5.59651 23.16 11.76 23.16Z"
                    fill="#4139B4" />
                <path
                    d="M7.92 16.8V15.6C6.36 15.36 5.64 14.16 5.64 13.32L7.2 12.96C7.2 13.56 7.68 14.16 8.64 14.16C9.24 14.16 9.6 13.92 9.6 13.44C9.6 13.08 9.36 12.96 8.88 12.84L7.92 12.6C6.72 12.36 5.88 11.52 5.88 10.56C5.88 9.36 6.84 8.52 7.92 8.28V7.08H9.24V8.28C10.44 8.52 11.04 9.36 11.16 10.2L9.6 10.56C9.48 10.2 9.36 9.72 8.52 9.72C7.92 9.72 7.56 10.08 7.56 10.44C7.56 10.68 7.8 10.92 8.16 11.04L9.12 11.28C10.56 11.64 11.16 12.48 11.16 13.44C11.16 14.4 10.44 15.36 9.12 15.6V16.8H7.92Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M14.52 16.8V15.6C12.96 15.36 12.24 14.16 12.24 13.32L13.8 12.96C13.8 13.56 14.28 14.16 15.24 14.16C15.84 14.16 16.2 13.92 16.2 13.44C16.2 13.08 15.96 12.96 15.48 12.84L14.4 12.6C13.2 12.36 12.36 11.52 12.36 10.56C12.36 9.36 13.32 8.52 14.4 8.28V7.08H15.72V8.28C16.92 8.52 17.52 9.36 17.64 10.2L16.08 10.56C15.96 10.2 15.84 9.6 15 9.6C14.4 9.6 14.04 9.96 14.04 10.32C14.04 10.56 14.28 10.8 14.64 10.92L15.6 11.16C17.04 11.52 17.64 12.36 17.64 13.32C17.64 14.28 16.92 15.24 15.6 15.48V16.68H14.52V16.8Z"
                    fill="white" stroke="white" stroke-opacity="0.5" stroke-width="0.1" stroke-miterlimit="10" />
                <path
                    d="M12 24C5.4 24 0 18.6 0 12C0 5.4 5.4 0 12 0C18.6 0 24 5.4 24 12C24 18.6 18.6 24 12 24ZM12 1.68C6.24 1.68 1.68 6.36 1.68 12C1.68 17.76 6.36 22.32 12 22.32C17.64 22.32 22.32 17.64 22.32 12C22.32 6.24 17.76 1.68 12 1.68Z"
                    fill="white" fill-opacity="0.5" />
            </svg>

            <p>$1.5 a $3 millones</p>
    </div>
</section>
<!-- <section class="section-of-anwsers mt-10">
        <div>
            Tu respuesta <span :class="classOfAnswer">{{ dataOfResearch?.num_estab_answer1 }}</span>
        </div>

        <div>
            Respuesta Correcta <span>{{ campusesAround.length }}</span>
        </div>
    </section> --></template>
