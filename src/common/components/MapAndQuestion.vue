<script setup lang="ts">
import { storeToRefs } from 'pinia';
// import { MapAndQuestionInterface } from '../interfaces/mapAndQuestion.interface';
import { useResearchStore } from '@/stores/research';
import { mapStyle } from '@/assets/map/mapStyle';
import { computed } from 'vue';
import { useI18n } from 'vue-i18n'
import { ResearchStep } from '@/enums/researchStep.enum';


const { t } = useI18n();
const researchStore = useResearchStore();
const { centerLocation } = storeToRefs(useResearchStore());

const textQuestion = computed(() => {
    // const text = 'A 3 km de tu zona de interés puede haber muchos establecimientos en el curso que estás buscando postular.'
    return t(`${researchStore.researchStep.toLowerCase()}${researchStore.secondRoundKey !== '' ? `.${researchStore.secondRoundKey}` : ''}.question`)
})

const isPerformanceAndpayment = computed(() => {
    return researchStore.researchStep === ResearchStep.questionPerformanceAndPayment;
})

const textDescription = () => {
    
    return t(`${researchStore.researchStep.toLowerCase()}${researchStore.secondRoundKey !== '' ? `.${researchStore.secondRoundKey}` : ''}.description`, 
    { total: researchStore.researchConfiguration.totalCampusesAround })
}

let answer: number | null;

const nextStep = () => {
    if (answer || answer === 0) {
        const key = researchStore.researchStep === 'QuestionCampusAround' ? 'num_estab_answer1' : 'num_estab_answer2';
        researchStore.setAnswer(answer, key)
        const step = isPerformanceAndpayment.value ? ResearchStep.answerPerformanceAndPayment : ResearchStep.answerCampusAround;
        researchStore.setResearchStep(step)
    }
}

const labelTotal = computed(() => {
    return researchStore.researchConfiguration.treatment === 1 ? '': researchStore.researchConfiguration.interface?.num_estab_correct1
})
const getAnswer = (event: any) => {
    if(event?.target.value === '0') {
        answer = Number(event?.target.value);
        return;
    }
    if (Math.sign(event?.target.value) === -1) {
        answer = null;
        event.target.value = null;
        return;
    }

    if (event?.target.value === '' || event?.target?.value === null) {
        answer = null;
        event.target.value = null;
        return;
    }
    if (Number.isNaN(Number(event?.target.value))) {
        event.target.value = null;
        answer = null;
        return;
    }

    if (isPerformanceAndpayment.value && (Number(event?.target.value) > researchStore.researchConfiguration.totalCampusesAround)) {
        event.target.value = null;
        answer = null;
        return;
    }

    answer = Number(event?.target.value);
}

// const getValue
const GMAP_API_KEY = import.meta.env.VITE_GMAP_API_KEY;
const styleCircle = {
    radius: 2000,
    strokeColor: 'rgba(255, 255, 255, 0.9)',
    strokeOpacity: 0.7,
    strokeWeight: 2,
    fillColor: 'rgba(255, 255, 255, 0.3)',
    fillOpacity: 0.9,
}
</script>
<template>
    <section class="map-and-question">
        <div class="g-map" style="position: relative;">
            <GoogleMap class="g-map-container" :api-key="GMAP_API_KEY" :center="centerLocation" :zoom="13.5"
                :styles="mapStyle" :disableDefaultUI="true" :clickableIcons="false" :mapTypeControl="false"
                :fullscreenControl="false" :streetViewControl="false" :gestureHandling="'greedy'" :zoomControl="false">
                <Circle :options="{ center: centerLocation, ...styleCircle }" />
                <CustomMarker :options="{ position: centerLocation }">
                    <img src="@/assets/marker-user.svg" />
                </CustomMarker>

                <svg v-if="isPerformanceAndpayment"
                    style="position: absolute; z-index: 100; bottom: 0; width: 100%; margin: auto; margin-bottom: 2rem;"
                    width="247" height="70" viewBox="0 0 232 76" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect opacity="0.8" width="108" height="76" rx="16" fill="white" />
                    <circle cx="32" cy="48" r="18" fill="white" fill-opacity="0.6" />
                    <circle cx="32" cy="48" r="16.5" fill="#20D1BF" />
                    <path
                        d="M32.0195 54.8059C31.857 54.8059 31.7195 54.7496 31.607 54.6371C31.4945 54.5246 31.4383 54.3809 31.4383 54.2059V53.2121C30.8258 53.1121 30.307 52.8965 29.882 52.5652C29.457 52.234 29.1258 51.8184 28.8883 51.3184C28.8133 51.1684 28.8133 51.0121 28.8883 50.8496C28.9633 50.6871 29.082 50.5684 29.2445 50.4934C29.382 50.4309 29.5289 50.434 29.6852 50.5027C29.8414 50.5715 29.9633 50.6809 30.0508 50.8309C30.2758 51.2434 30.5664 51.5527 30.9227 51.759C31.2789 51.9652 31.682 52.0684 32.132 52.0684C32.732 52.0684 33.2195 51.9215 33.5945 51.6277C33.9695 51.334 34.157 50.9371 34.157 50.4371C34.157 49.8996 33.982 49.4809 33.632 49.1809C33.282 48.8809 32.6383 48.5809 31.7008 48.2809C30.8008 47.9934 30.1289 47.609 29.6852 47.1277C29.2414 46.6465 29.0195 46.0434 29.0195 45.3184C29.0195 44.6434 29.2352 44.0684 29.6664 43.5934C30.0977 43.1184 30.6883 42.8434 31.4383 42.7684V41.7934C31.4383 41.6184 31.4945 41.4746 31.607 41.3621C31.7195 41.2496 31.857 41.1934 32.0195 41.1934C32.1945 41.1934 32.3383 41.2496 32.4508 41.3621C32.5633 41.4746 32.6195 41.6184 32.6195 41.7934V42.7684C33.057 42.8309 33.457 42.9684 33.8195 43.1809C34.182 43.3934 34.4883 43.6746 34.7383 44.0246C34.8258 44.1621 34.8414 44.309 34.7852 44.4652C34.7289 44.6215 34.6195 44.7309 34.457 44.7934C34.307 44.8684 34.1539 44.8777 33.9977 44.8215C33.8414 44.7652 33.7008 44.6684 33.5758 44.5309C33.4133 44.3184 33.2039 44.159 32.9477 44.0527C32.6914 43.9465 32.3945 43.8934 32.057 43.8934C31.4945 43.8934 31.0508 44.0184 30.7258 44.2684C30.4008 44.5184 30.2383 44.8621 30.2383 45.2996C30.2383 45.7496 30.4164 46.1184 30.7727 46.4059C31.1289 46.6934 31.8195 46.9934 32.8445 47.3059C33.707 47.5809 34.3445 47.9684 34.757 48.4684C35.1695 48.9684 35.3758 49.5996 35.3758 50.3621C35.3758 51.1621 35.1414 51.8059 34.6727 52.2934C34.2039 52.7809 33.5195 53.0934 32.6195 53.2309V54.2059C32.6195 54.3809 32.5633 54.5246 32.4508 54.6371C32.3383 54.7496 32.1945 54.8059 32.0195 54.8059Z"
                        fill="white" />
                    <path d="M29 55.5L35 40.5" stroke="white" stroke-width="0.8" stroke-linecap="round" />
                    <circle cx="76" cy="48" r="18" fill="white" fill-opacity="0.6" />
                    <circle cx="76" cy="48" r="16.5" fill="#44B8EB" />
                    <path
                        d="M76.0195 54.8059C75.857 54.8059 75.7195 54.7496 75.607 54.6371C75.4945 54.5246 75.4383 54.3809 75.4383 54.2059V53.2121C74.8258 53.1121 74.307 52.8965 73.882 52.5652C73.457 52.234 73.1258 51.8184 72.8883 51.3184C72.8133 51.1684 72.8133 51.0121 72.8883 50.8496C72.9633 50.6871 73.082 50.5684 73.2445 50.4934C73.382 50.4309 73.5289 50.434 73.6852 50.5027C73.8414 50.5715 73.9633 50.6809 74.0508 50.8309C74.2758 51.2434 74.5664 51.5527 74.9227 51.759C75.2789 51.9652 75.682 52.0684 76.132 52.0684C76.732 52.0684 77.2195 51.9215 77.5945 51.6277C77.9695 51.334 78.157 50.9371 78.157 50.4371C78.157 49.8996 77.982 49.4809 77.632 49.1809C77.282 48.8809 76.6383 48.5809 75.7008 48.2809C74.8008 47.9934 74.1289 47.609 73.6852 47.1277C73.2414 46.6465 73.0195 46.0434 73.0195 45.3184C73.0195 44.6434 73.2352 44.0684 73.6664 43.5934C74.0977 43.1184 74.6883 42.8434 75.4383 42.7684V41.7934C75.4383 41.6184 75.4945 41.4746 75.607 41.3621C75.7195 41.2496 75.857 41.1934 76.0195 41.1934C76.1945 41.1934 76.3383 41.2496 76.4508 41.3621C76.5633 41.4746 76.6195 41.6184 76.6195 41.7934V42.7684C77.057 42.8309 77.457 42.9684 77.8195 43.1809C78.182 43.3934 78.4883 43.6746 78.7383 44.0246C78.8258 44.1621 78.8414 44.309 78.7852 44.4652C78.7289 44.6215 78.6195 44.7309 78.457 44.7934C78.307 44.8684 78.1539 44.8777 77.9977 44.8215C77.8414 44.7652 77.7008 44.6684 77.5758 44.5309C77.4133 44.3184 77.2039 44.159 76.9477 44.0527C76.6914 43.9465 76.3945 43.8934 76.057 43.8934C75.4945 43.8934 75.0508 44.0184 74.7258 44.2684C74.4008 44.5184 74.2383 44.8621 74.2383 45.2996C74.2383 45.7496 74.4164 46.1184 74.7727 46.4059C75.1289 46.6934 75.8195 46.9934 76.8445 47.3059C77.707 47.5809 78.3445 47.9684 78.757 48.4684C79.1695 48.9684 79.3758 49.5996 79.3758 50.3621C79.3758 51.1621 79.1414 51.8059 78.6727 52.2934C78.2039 52.7809 77.5195 53.0934 76.6195 53.2309V54.2059C76.6195 54.3809 76.5633 54.5246 76.4508 54.6371C76.3383 54.7496 76.1945 54.8059 76.0195 54.8059Z"
                        fill="white" />
                    <rect opacity="0.8" x="124" width="108" height="76" rx="16" fill="white" />
                    <circle cx="156" cy="48" r="18" fill="white" fill-opacity="0.6" />
                    <circle cx="156" cy="48" r="16.5" fill="#20D1BF" />
                    <path
                        d="M150.766 41.9848L150.766 55.2191C150.766 55.4379 150.697 55.6165 150.559 55.7551C150.42 55.8936 150.241 55.9629 150.023 55.9629C149.804 55.9629 149.625 55.8936 149.487 55.7551C149.348 55.6165 149.279 55.4379 149.279 55.2191L149.279 41.9629L147.485 43.7566C147.354 43.8879 147.19 43.9535 146.993 43.9535C146.796 43.9535 146.617 43.8806 146.457 43.7348C146.311 43.5889 146.238 43.4139 146.238 43.2098C146.238 43.0056 146.311 42.8306 146.457 42.6848L149.498 39.6441C149.585 39.5712 149.669 39.5165 149.749 39.4801C149.829 39.4436 149.921 39.4254 150.023 39.4254C150.125 39.4254 150.216 39.4436 150.296 39.4801C150.376 39.5165 150.46 39.5712 150.548 39.6441L153.588 42.6848C153.749 42.8452 153.825 43.0202 153.818 43.2098C153.811 43.3993 153.734 43.5743 153.588 43.7348C153.442 43.8806 153.264 43.9535 153.052 43.9535C152.841 43.9535 152.67 43.8879 152.538 43.7566L150.766 41.9848Z"
                        fill="white" />
                    <path
                        d="M162.766 41.9848L162.766 55.2191C162.766 55.4379 162.697 55.6165 162.559 55.7551C162.42 55.8936 162.241 55.9629 162.023 55.9629C161.804 55.9629 161.625 55.8936 161.487 55.7551C161.348 55.6165 161.279 55.4379 161.279 55.2191L161.279 41.9629L159.485 43.7566C159.354 43.8879 159.19 43.9535 158.993 43.9535C158.796 43.9535 158.617 43.8806 158.457 43.7348C158.311 43.5889 158.238 43.4139 158.238 43.2098C158.238 43.0056 158.311 42.8306 158.457 42.6848L161.498 39.6441C161.585 39.5712 161.669 39.5165 161.749 39.4801C161.829 39.4436 161.921 39.4254 162.023 39.4254C162.125 39.4254 162.216 39.4436 162.296 39.4801C162.376 39.5165 162.46 39.5712 162.548 39.6441L165.588 42.6848C165.749 42.8452 165.825 43.0202 165.818 43.2098C165.811 43.3993 165.734 43.5743 165.588 43.7348C165.442 43.8806 165.264 43.9535 165.052 43.9535C164.841 43.9535 164.67 43.8879 164.538 43.7566L162.766 41.9848Z"
                        fill="white" />
                    <circle cx="200" cy="48" r="18" fill="white" fill-opacity="0.6" />
                    <circle cx="200" cy="48" r="16.5" fill="#44B8EB" />
                    <path
                        d="M200.766 41.9848L200.766 55.2191C200.766 55.4379 200.697 55.6165 200.559 55.7551C200.42 55.8936 200.241 55.9629 200.023 55.9629C199.804 55.9629 199.625 55.8936 199.487 55.7551C199.348 55.6165 199.279 55.4379 199.279 55.2191L199.279 41.9629L197.485 43.7566C197.354 43.8879 197.19 43.9535 196.993 43.9535C196.796 43.9535 196.617 43.8806 196.457 43.7348C196.311 43.5889 196.238 43.4139 196.238 43.2098C196.238 43.0056 196.311 42.8306 196.457 42.6848L199.498 39.6441C199.585 39.5712 199.669 39.5165 199.749 39.4801C199.829 39.4436 199.921 39.4254 200.023 39.4254C200.125 39.4254 200.216 39.4436 200.296 39.4801C200.376 39.5165 200.46 39.5712 200.548 39.6441L203.588 42.6848C203.749 42.8452 203.825 43.0202 203.818 43.2098C203.811 43.3993 203.734 43.5743 203.588 43.7348C203.442 43.8806 203.264 43.9535 203.052 43.9535C202.841 43.9535 202.67 43.8879 202.538 43.7566L200.766 41.9848Z"
                        fill="white" />
                    <path
                        d="M26.3745 22V14H29.3042C29.8719 14 30.342 14.0937 30.7144 14.2812C31.0868 14.4661 31.3654 14.7174 31.5503 15.0352C31.7352 15.3503 31.8276 15.7057 31.8276 16.1016C31.8276 16.4349 31.7664 16.7161 31.644 16.9453C31.5216 17.1719 31.3576 17.3542 31.1519 17.4922C30.9487 17.6276 30.7248 17.7266 30.48 17.7891V17.8672C30.7456 17.8802 31.0047 17.9661 31.2573 18.125C31.5125 18.2812 31.7235 18.5039 31.8901 18.793C32.0568 19.082 32.1401 19.4336 32.1401 19.8477C32.1401 20.2565 32.0438 20.6237 31.8511 20.9492C31.661 21.2721 31.3667 21.5286 30.9683 21.7187C30.5698 21.9062 30.0607 22 29.4409 22H26.3745ZM27.5815 20.9648H29.3237C29.9019 20.9648 30.3159 20.8529 30.5659 20.6289C30.8159 20.4049 30.9409 20.125 30.9409 19.7891C30.9409 19.5365 30.8771 19.3047 30.7495 19.0937C30.6219 18.8828 30.4396 18.7148 30.2026 18.5898C29.9683 18.4648 29.6896 18.4023 29.3667 18.4023H27.5815V20.9648ZM27.5815 17.4609H29.1987C29.4696 17.4609 29.7131 17.4089 29.9292 17.3047C30.1479 17.2005 30.3211 17.0547 30.4487 16.8672C30.5789 16.6771 30.644 16.4531 30.644 16.1953C30.644 15.8646 30.5282 15.5872 30.2964 15.3633C30.0646 15.1393 29.7091 15.0273 29.23 15.0273H27.5815V17.4609ZM35.2241 22.1328C34.8439 22.1328 34.5002 22.0625 34.1929 21.9219C33.8856 21.7786 33.6421 21.5716 33.4624 21.3008C33.2853 21.0299 33.1968 20.6979 33.1968 20.3047C33.1968 19.9661 33.2619 19.6875 33.3921 19.4687C33.5223 19.25 33.6981 19.0768 33.9194 18.9492C34.1408 18.8216 34.3882 18.7253 34.6616 18.6602C34.9351 18.5951 35.2137 18.5456 35.4976 18.5117C35.8569 18.4701 36.1486 18.4362 36.3726 18.4102C36.5965 18.3815 36.7593 18.3359 36.8608 18.2734C36.9624 18.2109 37.0132 18.1094 37.0132 17.9687V17.9414C37.0132 17.6003 36.9168 17.3359 36.7241 17.1484C36.534 16.9609 36.2502 16.8672 35.8726 16.8672C35.4793 16.8672 35.1694 16.9544 34.9429 17.1289C34.7189 17.3008 34.564 17.4922 34.478 17.7031L33.3804 17.4531C33.5106 17.0885 33.7007 16.7943 33.9507 16.5703C34.2033 16.3437 34.4937 16.1797 34.8218 16.0781C35.1499 15.974 35.495 15.9219 35.8569 15.9219C36.0965 15.9219 36.3504 15.9505 36.6187 16.0078C36.8895 16.0625 37.1421 16.1641 37.3765 16.3125C37.6134 16.4609 37.8075 16.6732 37.9585 16.9492C38.1095 17.2227 38.1851 17.5781 38.1851 18.0156V22H37.0444V21.1797H36.9976C36.922 21.3307 36.8088 21.4792 36.6577 21.625C36.5067 21.7708 36.3127 21.8919 36.0757 21.9883C35.8387 22.0846 35.5549 22.1328 35.2241 22.1328ZM35.478 21.1953C35.8009 21.1953 36.077 21.1315 36.3062 21.0039C36.5379 20.8763 36.7137 20.7096 36.8335 20.5039C36.9559 20.2956 37.0171 20.0729 37.0171 19.8359V19.0625C36.9754 19.1042 36.8947 19.1432 36.7749 19.1797C36.6577 19.2135 36.5236 19.2435 36.3726 19.2695C36.2215 19.293 36.0744 19.3151 35.9312 19.3359C35.7879 19.3542 35.6681 19.3698 35.5718 19.3828C35.3452 19.4115 35.1382 19.4596 34.9507 19.5273C34.7658 19.5951 34.6174 19.6927 34.5054 19.8203C34.396 19.9453 34.3413 20.112 34.3413 20.3203C34.3413 20.6094 34.4481 20.8281 34.6616 20.9766C34.8752 21.1224 35.1473 21.1953 35.478 21.1953ZM39.7407 16H40.9087V22.3906C40.9087 22.7917 40.8358 23.1302 40.6899 23.4062C40.5467 23.6823 40.3332 23.8919 40.0493 24.0352C39.7681 24.1784 39.4204 24.25 39.0063 24.25C38.9647 24.25 38.9256 24.25 38.8892 24.25C38.8501 24.25 38.8097 24.2487 38.7681 24.2461V23.2422C38.8045 23.2422 38.8371 23.2422 38.8657 23.2422C38.8918 23.2422 38.9217 23.2422 38.9556 23.2422C39.2316 23.2422 39.4308 23.168 39.5532 23.0195C39.6782 22.8737 39.7407 22.6615 39.7407 22.3828V16ZM40.3188 15.0742C40.1157 15.0742 39.9412 15.0065 39.7954 14.8711C39.6522 14.7331 39.5806 14.569 39.5806 14.3789C39.5806 14.1862 39.6522 14.0221 39.7954 13.8867C39.9412 13.7487 40.1157 13.6797 40.3188 13.6797C40.522 13.6797 40.6951 13.7487 40.8384 13.8867C40.9842 14.0221 41.0571 14.1862 41.0571 14.3789C41.0571 14.569 40.9842 14.7331 40.8384 14.8711C40.6951 15.0065 40.522 15.0742 40.3188 15.0742ZM45.0073 22.1211C44.4448 22.1211 43.9539 21.9922 43.5347 21.7344C43.1154 21.4766 42.7899 21.1159 42.5581 20.6523C42.3263 20.1888 42.2104 19.6471 42.2104 19.0273C42.2104 18.4049 42.3263 17.8607 42.5581 17.3945C42.7899 16.9284 43.1154 16.5664 43.5347 16.3086C43.9539 16.0508 44.4448 15.9219 45.0073 15.9219C45.5698 15.9219 46.0607 16.0508 46.48 16.3086C46.8993 16.5664 47.2248 16.9284 47.4565 17.3945C47.6883 17.8607 47.8042 18.4049 47.8042 19.0273C47.8042 19.6471 47.6883 20.1888 47.4565 20.6523C47.2248 21.1159 46.8993 21.4766 46.48 21.7344C46.0607 21.9922 45.5698 22.1211 45.0073 22.1211ZM45.0112 21.1406C45.3758 21.1406 45.6779 21.0443 45.9175 20.8516C46.1571 20.6589 46.3341 20.4023 46.4487 20.082C46.5659 19.7617 46.6245 19.4089 46.6245 19.0234C46.6245 18.6406 46.5659 18.2891 46.4487 17.9687C46.3341 17.6458 46.1571 17.3867 45.9175 17.1914C45.6779 16.9961 45.3758 16.8984 45.0112 16.8984C44.644 16.8984 44.3394 16.9961 44.0972 17.1914C43.8576 17.3867 43.6792 17.6458 43.562 17.9687C43.4474 18.2891 43.3901 18.6406 43.3901 19.0234C43.3901 19.4089 43.4474 19.7617 43.562 20.082C43.6792 20.4023 43.8576 20.6589 44.0972 20.8516C44.3394 21.0443 44.644 21.1406 45.0112 21.1406ZM58.7573 16.6016H57.5386C57.4917 16.3411 57.4045 16.112 57.2769 15.9141C57.1493 15.7161 56.993 15.5482 56.8081 15.4102C56.6232 15.2721 56.4162 15.168 56.187 15.0977C55.9604 15.0273 55.7196 14.9922 55.4644 14.9922C55.0034 14.9922 54.5907 15.1081 54.2261 15.3398C53.8641 15.5716 53.5776 15.9115 53.3667 16.3594C53.1584 16.8073 53.0542 17.3542 53.0542 18C53.0542 18.651 53.1584 19.2005 53.3667 19.6484C53.5776 20.0964 53.8654 20.4349 54.23 20.6641C54.5946 20.8932 55.0047 21.0078 55.4604 21.0078C55.7131 21.0078 55.9526 20.974 56.1792 20.9062C56.4084 20.8359 56.6154 20.7331 56.8003 20.5977C56.9852 20.4622 57.1414 20.2969 57.269 20.1016C57.3993 19.9036 57.4891 19.6771 57.5386 19.4219L58.7573 19.4258C58.6922 19.819 58.5659 20.181 58.3784 20.5117C58.1935 20.8398 57.9552 21.1237 57.6636 21.3633C57.3745 21.6003 57.0438 21.7839 56.6714 21.9141C56.299 22.0443 55.8927 22.1094 55.4526 22.1094C54.7599 22.1094 54.1427 21.9453 53.6011 21.6172C53.0594 21.2865 52.6323 20.8138 52.3198 20.1992C52.0099 19.5846 51.855 18.8516 51.855 18C51.855 17.1458 52.0112 16.4128 52.3237 15.8008C52.6362 15.1862 53.0633 14.7148 53.605 14.3867C54.1466 14.056 54.7625 13.8906 55.4526 13.8906C55.8771 13.8906 56.2729 13.9518 56.6401 14.0742C57.0099 14.194 57.342 14.3711 57.6362 14.6055C57.9305 14.8372 58.174 15.1211 58.3667 15.457C58.5594 15.7904 58.6896 16.1719 58.7573 16.6016ZM62.6353 22.1211C62.0728 22.1211 61.5819 21.9922 61.1626 21.7344C60.7433 21.4766 60.4178 21.1159 60.186 20.6523C59.9543 20.1888 59.8384 19.6471 59.8384 19.0273C59.8384 18.4049 59.9543 17.8607 60.186 17.3945C60.4178 16.9284 60.7433 16.5664 61.1626 16.3086C61.5819 16.0508 62.0728 15.9219 62.6353 15.9219C63.1978 15.9219 63.6886 16.0508 64.1079 16.3086C64.5272 16.5664 64.8527 16.9284 65.0845 17.3945C65.3162 17.8607 65.4321 18.4049 65.4321 19.0273C65.4321 19.6471 65.3162 20.1888 65.0845 20.6523C64.8527 21.1159 64.5272 21.4766 64.1079 21.7344C63.6886 21.9922 63.1978 22.1211 62.6353 22.1211ZM62.6392 21.1406C63.0037 21.1406 63.3058 21.0443 63.5454 20.8516C63.785 20.6589 63.9621 20.4023 64.0767 20.082C64.1938 19.7617 64.2524 19.4089 64.2524 19.0234C64.2524 18.6406 64.1938 18.2891 64.0767 17.9687C63.9621 17.6458 63.785 17.3867 63.5454 17.1914C63.3058 16.9961 63.0037 16.8984 62.6392 16.8984C62.272 16.8984 61.9673 16.9961 61.7251 17.1914C61.4855 17.3867 61.3071 17.6458 61.1899 17.9687C61.0754 18.2891 61.0181 18.6406 61.0181 19.0234C61.0181 19.4089 61.0754 19.7617 61.1899 20.082C61.3071 20.4023 61.4855 20.6589 61.7251 20.8516C61.9673 21.0443 62.272 21.1406 62.6392 21.1406ZM71.2319 17.4648L70.1733 17.6523C70.1291 17.5169 70.0588 17.388 69.9624 17.2656C69.8687 17.1432 69.741 17.043 69.5796 16.9648C69.4181 16.8867 69.2163 16.8477 68.9741 16.8477C68.6434 16.8477 68.3674 16.9219 68.146 17.0703C67.9246 17.2161 67.814 17.4049 67.814 17.6367C67.814 17.8372 67.8882 17.9987 68.0366 18.1211C68.1851 18.2435 68.4246 18.3437 68.7554 18.4219L69.7085 18.6406C70.2606 18.7682 70.672 18.9648 70.9429 19.2305C71.2137 19.4961 71.3491 19.8411 71.3491 20.2656C71.3491 20.625 71.245 20.9453 71.0366 21.2266C70.8309 21.5052 70.5431 21.724 70.1733 21.8828C69.8062 22.0417 69.3804 22.1211 68.896 22.1211C68.2241 22.1211 67.6759 21.9779 67.2515 21.6914C66.827 21.4023 66.5666 20.9922 66.4702 20.4609L67.5991 20.2891C67.6694 20.5833 67.814 20.806 68.0327 20.957C68.2515 21.1055 68.5366 21.1797 68.8882 21.1797C69.271 21.1797 69.577 21.1003 69.8062 20.9414C70.0353 20.7799 70.1499 20.5833 70.1499 20.3516C70.1499 20.1641 70.0796 20.0065 69.939 19.8789C69.8009 19.7513 69.5887 19.6549 69.3022 19.5898L68.2866 19.3672C67.7267 19.2396 67.3127 19.0365 67.0444 18.7578C66.7788 18.4792 66.646 18.1263 66.646 17.6992C66.646 17.3451 66.745 17.0352 66.9429 16.7695C67.1408 16.5039 67.4142 16.2969 67.7632 16.1484C68.1121 15.9974 68.5119 15.9219 68.9624 15.9219C69.6108 15.9219 70.1213 16.0625 70.4937 16.3437C70.866 16.6224 71.1121 16.9961 71.2319 17.4648ZM75.4341 16V16.9375H72.1567V16H75.4341ZM73.0356 14.5625H74.2036V20.2383C74.2036 20.4648 74.2375 20.6354 74.3052 20.75C74.3729 20.862 74.4601 20.9388 74.5669 20.9805C74.6763 21.0195 74.7948 21.0391 74.9224 21.0391C75.0161 21.0391 75.0981 21.0326 75.1685 21.0195C75.2388 21.0065 75.2935 20.9961 75.3325 20.9883L75.5435 21.9531C75.4757 21.9792 75.3794 22.0052 75.2544 22.0313C75.1294 22.0599 74.9731 22.0755 74.7856 22.0781C74.4784 22.0833 74.1919 22.0286 73.9263 21.9141C73.6606 21.7995 73.4458 21.6224 73.2817 21.3828C73.1177 21.1432 73.0356 20.8424 73.0356 20.4805V14.5625ZM79.189 22.1211C78.6265 22.1211 78.1356 21.9922 77.7163 21.7344C77.297 21.4766 76.9715 21.1159 76.7397 20.6523C76.508 20.1888 76.3921 19.6471 76.3921 19.0273C76.3921 18.4049 76.508 17.8607 76.7397 17.3945C76.9715 16.9284 77.297 16.5664 77.7163 16.3086C78.1356 16.0508 78.6265 15.9219 79.189 15.9219C79.7515 15.9219 80.2424 16.0508 80.6616 16.3086C81.0809 16.5664 81.4064 16.9284 81.6382 17.3945C81.87 17.8607 81.9858 18.4049 81.9858 19.0273C81.9858 19.6471 81.87 20.1888 81.6382 20.6523C81.4064 21.1159 81.0809 21.4766 80.6616 21.7344C80.2424 21.9922 79.7515 22.1211 79.189 22.1211ZM79.1929 21.1406C79.5575 21.1406 79.8595 21.0443 80.0991 20.8516C80.3387 20.6589 80.5158 20.4023 80.6304 20.082C80.7476 19.7617 80.8062 19.4089 80.8062 19.0234C80.8062 18.6406 80.7476 18.2891 80.6304 17.9687C80.5158 17.6458 80.3387 17.3867 80.0991 17.1914C79.8595 16.9961 79.5575 16.8984 79.1929 16.8984C78.8257 16.8984 78.521 16.9961 78.2788 17.1914C78.0392 17.3867 77.8608 17.6458 77.7437 17.9687C77.6291 18.2891 77.5718 18.6406 77.5718 19.0234C77.5718 19.4089 77.6291 19.7617 77.7437 20.082C77.8608 20.4023 78.0392 20.6589 78.2788 20.8516C78.521 21.0443 78.8257 21.1406 79.1929 21.1406Z"
                        fill="#1E0C61" />
                    <path
                        d="M136.618 22H135.337L138.216 14H139.61L142.489 22H141.208L138.946 15.4531H138.884L136.618 22ZM136.833 18.8672H140.989V19.8828H136.833V18.8672ZM144.719 14V22H143.551V14H144.719ZM149.091 16V16.9375H145.813V16H149.091ZM146.692 14.5625H147.86V20.2383C147.86 20.4648 147.894 20.6354 147.962 20.75C148.03 20.862 148.117 20.9388 148.224 20.9805C148.333 21.0195 148.451 21.0391 148.579 21.0391C148.673 21.0391 148.755 21.0326 148.825 21.0195C148.896 21.0065 148.95 20.9961 148.989 20.9883L149.2 21.9531C149.132 21.9792 149.036 22.0052 148.911 22.0313C148.786 22.0599 148.63 22.0755 148.442 22.0781C148.135 22.0833 147.849 22.0286 147.583 21.9141C147.317 21.7995 147.103 21.6224 146.938 21.3828C146.774 21.1432 146.692 20.8424 146.692 20.4805V14.5625ZM152.846 22.1211C152.283 22.1211 151.792 21.9922 151.373 21.7344C150.954 21.4766 150.628 21.1159 150.396 20.6523C150.165 20.1888 150.049 19.6471 150.049 19.0273C150.049 18.4049 150.165 17.8607 150.396 17.3945C150.628 16.9284 150.954 16.5664 151.373 16.3086C151.792 16.0508 152.283 15.9219 152.846 15.9219C153.408 15.9219 153.899 16.0508 154.318 16.3086C154.738 16.5664 155.063 16.9284 155.295 17.3945C155.527 17.8607 155.643 18.4049 155.643 19.0273C155.643 19.6471 155.527 20.1888 155.295 20.6523C155.063 21.1159 154.738 21.4766 154.318 21.7344C153.899 21.9922 153.408 22.1211 152.846 22.1211ZM152.85 21.1406C153.214 21.1406 153.516 21.0443 153.756 20.8516C153.995 20.6589 154.173 20.4023 154.287 20.082C154.404 19.7617 154.463 19.4089 154.463 19.0234C154.463 18.6406 154.404 18.2891 154.287 17.9687C154.173 17.6458 153.995 17.3867 153.756 17.1914C153.516 16.9961 153.214 16.8984 152.85 16.8984C152.482 16.8984 152.178 16.9961 151.936 17.1914C151.696 17.3867 151.518 17.6458 151.4 17.9687C151.286 18.2891 151.229 18.6406 151.229 19.0234C151.229 19.4089 151.286 19.7617 151.4 20.082C151.518 20.4023 151.696 20.6589 151.936 20.8516C152.178 21.0443 152.482 21.1406 152.85 21.1406ZM162.104 22.1172C161.619 22.1172 161.187 21.9935 160.807 21.7461C160.429 21.4961 160.132 21.1406 159.916 20.6797C159.702 20.2161 159.596 19.6602 159.596 19.0117C159.596 18.3633 159.704 17.8086 159.92 17.3477C160.139 16.8867 160.438 16.5339 160.818 16.2891C161.199 16.0443 161.63 15.9219 162.111 15.9219C162.484 15.9219 162.783 15.9844 163.01 16.1094C163.239 16.2318 163.416 16.375 163.541 16.5391C163.669 16.7031 163.768 16.8477 163.838 16.9727H163.908V14H165.076V22H163.936V21.0664H163.838C163.768 21.194 163.666 21.3398 163.533 21.5039C163.403 21.668 163.223 21.8112 162.994 21.9336C162.765 22.056 162.468 22.1172 162.104 22.1172ZM162.361 21.1211C162.697 21.1211 162.981 21.0326 163.213 20.8555C163.447 20.6758 163.624 20.4271 163.744 20.1094C163.867 19.7917 163.928 19.4219 163.928 19C163.928 18.5833 163.868 18.2187 163.748 17.9062C163.628 17.5937 163.452 17.3503 163.221 17.1758C162.989 17.0013 162.702 16.9141 162.361 16.9141C162.01 16.9141 161.717 17.0052 161.482 17.1875C161.248 17.3698 161.071 17.6185 160.951 17.9336C160.834 18.2487 160.775 18.6042 160.775 19C160.775 19.401 160.835 19.7617 160.955 20.082C161.075 20.4023 161.252 20.6562 161.486 20.8437C161.723 21.0286 162.015 21.1211 162.361 21.1211ZM169.329 22.1211C168.738 22.1211 168.229 21.9948 167.802 21.7422C167.377 21.487 167.049 21.1289 166.817 20.668C166.588 20.2044 166.474 19.6615 166.474 19.0391C166.474 18.4245 166.588 17.8828 166.817 17.4141C167.049 16.9453 167.372 16.5794 167.786 16.3164C168.203 16.0534 168.69 15.9219 169.247 15.9219C169.586 15.9219 169.914 15.9779 170.231 16.0898C170.549 16.2018 170.834 16.3776 171.087 16.6172C171.34 16.8568 171.539 17.168 171.685 17.5508C171.83 17.931 171.903 18.3932 171.903 18.9375V19.3516H167.134V18.4766H170.759C170.759 18.1693 170.696 17.8971 170.571 17.6602C170.446 17.4206 170.271 17.2318 170.044 17.0937C169.82 16.9557 169.557 16.8867 169.255 16.8867C168.927 16.8867 168.64 16.9674 168.396 17.1289C168.153 17.2878 167.966 17.4961 167.833 17.7539C167.703 18.0091 167.638 18.2865 167.638 18.5859V19.2695C167.638 19.6706 167.708 20.0117 167.849 20.293C167.992 20.5742 168.191 20.7891 168.446 20.9375C168.701 21.0833 169 21.1562 169.341 21.1562C169.562 21.1562 169.764 21.125 169.946 21.0625C170.129 20.9974 170.286 20.901 170.419 20.7734C170.552 20.6458 170.653 20.4883 170.724 20.3008L171.829 20.5C171.741 20.8255 171.582 21.1107 171.353 21.3555C171.126 21.5977 170.841 21.7865 170.497 21.9219C170.156 22.0547 169.767 22.1211 169.329 22.1211ZM177.695 17.4648L176.637 17.6523C176.592 17.5169 176.522 17.388 176.426 17.2656C176.332 17.1432 176.204 17.043 176.043 16.9648C175.882 16.8867 175.68 16.8477 175.438 16.8477C175.107 16.8477 174.831 16.9219 174.609 17.0703C174.388 17.2161 174.277 17.4049 174.277 17.6367C174.277 17.8372 174.352 17.9987 174.5 18.1211C174.648 18.2435 174.888 18.3437 175.219 18.4219L176.172 18.6406C176.724 18.7682 177.135 18.9648 177.406 19.2305C177.677 19.4961 177.813 19.8411 177.813 20.2656C177.813 20.625 177.708 20.9453 177.5 21.2266C177.294 21.5052 177.007 21.724 176.637 21.8828C176.27 22.0417 175.844 22.1211 175.359 22.1211C174.688 22.1211 174.139 21.9779 173.715 21.6914C173.29 21.4023 173.03 20.9922 172.934 20.4609L174.062 20.2891C174.133 20.5833 174.277 20.806 174.496 20.957C174.715 21.1055 175 21.1797 175.352 21.1797C175.734 21.1797 176.04 21.1003 176.27 20.9414C176.499 20.7799 176.613 20.5833 176.613 20.3516C176.613 20.1641 176.543 20.0065 176.402 19.8789C176.264 19.7513 176.052 19.6549 175.766 19.5898L174.75 19.3672C174.19 19.2396 173.776 19.0365 173.508 18.7578C173.242 18.4792 173.109 18.1263 173.109 17.6992C173.109 17.3451 173.208 17.0352 173.406 16.7695C173.604 16.5039 173.878 16.2969 174.227 16.1484C174.576 15.9974 174.975 15.9219 175.426 15.9219C176.074 15.9219 176.585 16.0625 176.957 16.3437C177.329 16.6224 177.576 16.9961 177.695 17.4648ZM181.683 22.1211C181.091 22.1211 180.582 21.9948 180.155 21.7422C179.731 21.487 179.403 21.1289 179.171 20.668C178.942 20.2044 178.827 19.6615 178.827 19.0391C178.827 18.4245 178.942 17.8828 179.171 17.4141C179.403 16.9453 179.726 16.5794 180.14 16.3164C180.556 16.0534 181.043 15.9219 181.601 15.9219C181.939 15.9219 182.267 15.9779 182.585 16.0898C182.903 16.2018 183.188 16.3776 183.44 16.6172C183.693 16.8568 183.892 17.168 184.038 17.5508C184.184 17.931 184.257 18.3932 184.257 18.9375V19.3516H179.487V18.4766H183.112C183.112 18.1693 183.05 17.8971 182.925 17.6602C182.8 17.4206 182.624 17.2318 182.397 17.0937C182.174 16.9557 181.91 16.8867 181.608 16.8867C181.28 16.8867 180.994 16.9674 180.749 17.1289C180.507 17.2878 180.319 17.4961 180.187 17.7539C180.056 18.0091 179.991 18.2865 179.991 18.5859V19.2695C179.991 19.6706 180.062 20.0117 180.202 20.293C180.345 20.5742 180.545 20.7891 180.8 20.9375C181.055 21.0833 181.353 21.1562 181.694 21.1562C181.916 21.1562 182.118 21.125 182.3 21.0625C182.482 20.9974 182.64 20.901 182.772 20.7734C182.905 20.6458 183.007 20.4883 183.077 20.3008L184.183 20.5C184.094 20.8255 183.935 21.1107 183.706 21.3555C183.479 21.5977 183.194 21.7865 182.851 21.9219C182.509 22.0547 182.12 22.1211 181.683 22.1211ZM185.553 22V16H186.674V16.9766H186.748C186.873 16.6458 187.077 16.388 187.361 16.2031C187.645 16.0156 187.985 15.9219 188.381 15.9219C188.782 15.9219 189.118 16.0156 189.389 16.2031C189.662 16.3906 189.864 16.6484 189.994 16.9766H190.057C190.2 16.6562 190.428 16.401 190.74 16.2109C191.053 16.0182 191.425 15.9219 191.857 15.9219C192.402 15.9219 192.846 16.0924 193.189 16.4336C193.536 16.7747 193.709 17.2891 193.709 17.9766V22H192.541V18.0859C192.541 17.6797 192.43 17.3854 192.209 17.2031C191.988 17.0208 191.723 16.9297 191.416 16.9297C191.036 16.9297 190.74 17.0469 190.529 17.2812C190.318 17.513 190.213 17.8112 190.213 18.1758V22H189.049V18.0117C189.049 17.6862 188.947 17.4245 188.744 17.2266C188.541 17.0286 188.277 16.9297 187.951 16.9297C187.73 16.9297 187.525 16.9883 187.338 17.1055C187.153 17.2201 187.003 17.3802 186.889 17.5859C186.777 17.7917 186.721 18.0299 186.721 18.3008V22H185.553ZM195.274 24.25V16H196.415V16.9727H196.513C196.58 16.8477 196.678 16.7031 196.806 16.5391C196.933 16.375 197.11 16.2318 197.337 16.1094C197.563 15.9844 197.863 15.9219 198.235 15.9219C198.72 15.9219 199.152 16.0443 199.532 16.2891C199.912 16.5339 200.211 16.8867 200.427 17.3477C200.646 17.8086 200.755 18.3633 200.755 19.0117C200.755 19.6602 200.647 20.2161 200.431 20.6797C200.215 21.1406 199.918 21.4961 199.54 21.7461C199.162 21.9935 198.731 22.1172 198.247 22.1172C197.882 22.1172 197.584 22.056 197.353 21.9336C197.123 21.8112 196.944 21.668 196.813 21.5039C196.683 21.3398 196.583 21.194 196.513 21.0664H196.442V24.25H195.274ZM196.419 19C196.419 19.4219 196.48 19.7917 196.603 20.1094C196.725 20.4271 196.902 20.6758 197.134 20.8555C197.366 21.0326 197.649 21.1211 197.985 21.1211C198.334 21.1211 198.626 21.0286 198.86 20.8437C199.095 20.6562 199.272 20.4023 199.392 20.082C199.514 19.7617 199.575 19.401 199.575 19C199.575 18.6042 199.515 18.2487 199.396 17.9336C199.278 17.6185 199.101 17.3698 198.864 17.1875C198.63 17.0052 198.337 16.9141 197.985 16.9141C197.647 16.9141 197.36 17.0013 197.126 17.1758C196.894 17.3503 196.718 17.5937 196.599 17.9062C196.479 18.2187 196.419 18.5833 196.419 19ZM204.649 22.1211C204.058 22.1211 203.549 21.9948 203.122 21.7422C202.698 21.487 202.369 21.1289 202.138 20.668C201.909 20.2044 201.794 19.6615 201.794 19.0391C201.794 18.4245 201.909 17.8828 202.138 17.4141C202.369 16.9453 202.692 16.5794 203.106 16.3164C203.523 16.0534 204.01 15.9219 204.567 15.9219C204.906 15.9219 205.234 15.9779 205.552 16.0898C205.869 16.2018 206.155 16.3776 206.407 16.6172C206.66 16.8568 206.859 17.168 207.005 17.5508C207.151 17.931 207.224 18.3932 207.224 18.9375V19.3516H202.454V18.4766H206.079C206.079 18.1693 206.017 17.8971 205.892 17.6602C205.767 17.4206 205.591 17.2318 205.364 17.0937C205.14 16.9557 204.877 16.8867 204.575 16.8867C204.247 16.8867 203.961 16.9674 203.716 17.1289C203.474 17.2878 203.286 17.4961 203.153 17.7539C203.023 18.0091 202.958 18.2865 202.958 18.5859V19.2695C202.958 19.6706 203.028 20.0117 203.169 20.293C203.312 20.5742 203.511 20.7891 203.767 20.9375C204.022 21.0833 204.32 21.1562 204.661 21.1562C204.882 21.1562 205.084 21.125 205.267 21.0625C205.449 20.9974 205.606 20.901 205.739 20.7734C205.872 20.6458 205.974 20.4883 206.044 20.3008L207.149 20.5C207.061 20.8255 206.902 21.1107 206.673 21.3555C206.446 21.5977 206.161 21.7865 205.817 21.9219C205.476 22.0547 205.087 22.1211 204.649 22.1211ZM209.688 18.4375V22H208.52V16H209.641V16.9766H209.715C209.853 16.6589 210.069 16.4036 210.363 16.2109C210.66 16.0182 211.034 15.9219 211.484 15.9219C211.893 15.9219 212.251 16.0078 212.559 16.1797C212.866 16.349 213.104 16.6016 213.273 16.9375C213.443 17.2734 213.527 17.6888 213.527 18.1836V22H212.359V18.3242C212.359 17.8893 212.246 17.5495 212.02 17.3047C211.793 17.0573 211.482 16.9336 211.086 16.9336C210.815 16.9336 210.574 16.9922 210.363 17.1094C210.155 17.2266 209.99 17.3984 209.867 17.625C209.747 17.849 209.688 18.1198 209.688 18.4375ZM209.848 15.2734L209.063 15.25C209.063 14.8177 209.178 14.4727 209.41 14.2148C209.645 13.957 209.934 13.8281 210.277 13.8281C210.436 13.8281 210.576 13.8555 210.695 13.9102C210.815 13.9622 210.927 14.0234 211.031 14.0938C211.138 14.1615 211.243 14.2227 211.348 14.2773C211.454 14.3294 211.573 14.3555 211.703 14.3555C211.854 14.3555 211.977 14.2982 212.07 14.1836C212.167 14.069 212.215 13.9271 212.215 13.7578L212.984 13.8086C212.984 14.2435 212.867 14.5859 212.633 14.8359C212.398 15.0833 212.111 15.2083 211.77 15.2109C211.585 15.2109 211.431 15.1849 211.309 15.1328C211.189 15.0781 211.082 15.0169 210.988 14.9492C210.895 14.8789 210.798 14.8164 210.699 14.7617C210.6 14.707 210.482 14.6797 210.344 14.6797C210.198 14.6797 210.078 14.737 209.984 14.8516C209.893 14.9635 209.848 15.1042 209.848 15.2734ZM217.621 22.1211C217.059 22.1211 216.568 21.9922 216.148 21.7344C215.729 21.4766 215.404 21.1159 215.172 20.6523C214.94 20.1888 214.824 19.6471 214.824 19.0273C214.824 18.4049 214.94 17.8607 215.172 17.3945C215.404 16.9284 215.729 16.5664 216.148 16.3086C216.568 16.0508 217.059 15.9219 217.621 15.9219C218.184 15.9219 218.674 16.0508 219.094 16.3086C219.513 16.5664 219.839 16.9284 220.07 17.3945C220.302 17.8607 220.418 18.4049 220.418 19.0273C220.418 19.6471 220.302 20.1888 220.07 20.6523C219.839 21.1159 219.513 21.4766 219.094 21.7344C218.674 21.9922 218.184 22.1211 217.621 22.1211ZM217.625 21.1406C217.99 21.1406 218.292 21.0443 218.531 20.8516C218.771 20.6589 218.948 20.4023 219.063 20.082C219.18 19.7617 219.238 19.4089 219.238 19.0234C219.238 18.6406 219.18 18.2891 219.063 17.9687C218.948 17.6458 218.771 17.3867 218.531 17.1914C218.292 16.9961 217.99 16.8984 217.625 16.8984C217.258 16.8984 216.953 16.9961 216.711 17.1914C216.471 17.3867 216.293 17.6458 216.176 17.9687C216.061 18.2891 216.004 18.6406 216.004 19.0234C216.004 19.4089 216.061 19.7617 216.176 20.082C216.293 20.4023 216.471 20.6589 216.711 20.8516C216.953 21.0443 217.258 21.1406 217.625 21.1406Z"
                        fill="#1E0C61" />
                </svg>

            </GoogleMap>

        </div>
        <div class="question">
            <p v-if="isPerformanceAndpayment" class="mt-3">
                De los <b>{{ labelTotal }} establecimientos</b> ubicados a 2 km de tu preferencia, que imparte el curso al que deseas postular.
            </p>
            <p v-else class="mt-3" v-html="textDescription()" />
            <h1 for="answer" class="mt-8" v-html="textQuestion" />
            <div>
                <input @input="getAnswer($event)" name="answer" id="answer" class="answer-of-question" type="number"
                    placeholder="" />
                <span v-if="researchStore.researchConfiguration.treatment > 1 && isPerformanceAndpayment" class="text-between-answer ml-3">de {{
                    researchStore.researchConfiguration.interface?.num_estab_correct1
                }}</span>
            </div>
            <NextButton class="mt-10 mb-4 question-button" @click="nextStep()" />
        </div>
    </section>
</template>
